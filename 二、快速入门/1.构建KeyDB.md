# 构建 KeyDB

## 标准构建

使用此命令从Github的不稳定（最新）分支构建。这将包含最新的更改。如果要生成最新的官方版本，请将分支更改为release_0_9

    sudo apt-get update
    sudo apt-get install build-essential nasm autotools-dev autoconf libjemalloc-dev tcl tcl-dev uuid-dev
    git clone https://github.com/JohnSully/KeyDB.git
    cd KeyDB
    make
    sudo make install

## 切换到官方正式Release

为了从最新的官方版本开始构建，请在make之前更改分支：

    git fetch --all
    git checkout RELEASE_0_9
    git pull

## 闪存构建

如果要构建flash支持版本，则需要额外的依赖项libtool和libnuma，并且必须使用MALLOC=memkind:

    sudo apt-get update
    sudo apt-get install build-essential nasm autotools-dev autoconf libjemalloc-dev tcl tcl-dev uuid-dev libtool libnuma-dev
    git clone https://github.com/JohnSully/KeyDB.git
    cd KeyDB
    make MALLOC=memkind
    sudo make install


## 可能的问题

如果需要更新生成，请确保在重新生成之前进行 make distclean。
有一些例子表明，make distclean并没有得到所有的东西，回购协议不得不重新调整。

