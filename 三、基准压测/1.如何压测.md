# 测试KeyDB!

## 使用 Memtier

KeyDB在多个级别上是多线程的，当使用多线程基准测试工具时，它们之间的差异变得显而易见。
当您使用memtier时，Redis和KeyDB之间的性能差异开始变得非常明显。

## 安装 Memtier

您可以访问memtiers github rep或按照以下快速步骤在典型的Ubuntu/Debian上启动和运行：

    apt-get install build-essential autoconf automake libpcre3-dev libevent-dev pkg-config zlib1g-dev
    git clone https://github.com/RedisLabs/memtier_benchmark.git
    cd memtier_benchmark
    autoreconf -ivf
    ./configure
    make
    make install

## 使用 Memtier

当使用 "server-threads" keydb-server 服务器线程4运行keydb-server时，指定线程的数量。您还可以指定memtiers threads（默认值为4）--threads=NUMBER。确保基准测试设置（keydb线程 + memtier线程）反映硬件。

使用 memtier_benchmark --help 查看测试的选项，如管道、数据大小等。例如 memtier_benchmark -s 172.31.38.149 -p 6379 --hide histogram --requests=20000 --clients=100 --pipeline=20 --data-size=128

Memtier有很多选项，您可以配置它们来预测您的应用程序在高负载下可能遇到的情况。如果要与Redis进行比较，请确保使用相同的计算机和相同的基准设置。

## 快速测试

这是让你开始连接。一旦你能运行它，开始调整设置。理想情况下，您可以在另一台机器上运行memtier来浏览NICs并看到更真实的行为。
安装程序后通过环回适配器运行的以下情况：

    keydb-server --daemonize yes --requirepass mypassword123 --port 6379
    
    memtier_benchmark -s 127.0.0.1 -p 6379 --authenticate=mypassword123

## 反馈

如果您有关于测试的问题，或者您想分享您的结果，我们很高兴收到您的来信。请联系support@eqalpha.com
